<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>日志使用</title>
      <link href="/hexo/2024/07/03/ri-zhi-shi-yong/"/>
      <url>/hexo/2024/07/03/ri-zhi-shi-yong/</url>
      
        <content type="html"><![CDATA[<h2 id="log4j"><a href="#log4j" class="headerlink" title="log4j"></a>log4j</h2><h3 id="maven-依赖"><a href="#maven-依赖" class="headerlink" title="maven 依赖"></a>maven 依赖</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">         &lt;groupId&gt;log4j&lt;/groupId&gt;</span><br><span class="line">         &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span><br><span class="line">         &lt;version&gt;<span class="number">1.2</span><span class="number">.17</span>&lt;/version&gt;</span><br><span class="line">     &lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"># This is the configuring for logging displayed in the Application Server</span><br><span class="line">log4j.rootLogger=DEBUG,stdout</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#stdout configure</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.stdout.layout.ConversionPattern= %d %p [%c] - &lt;%m&gt;%n</span><br><span class="line"></span><br><span class="line">#logfile configure</span><br><span class="line">log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender</span><br><span class="line">log4j.appender.logfile.File=logs/log.log</span><br><span class="line">log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.logfile.DatePattern = &#x27;.&#x27;yyyy-MM-dd</span><br><span class="line">log4j.appender.logfile.layout.ConversionPattern= %d %p [%c] - &lt;%m&gt;%n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">log4j.logger.com.inspur.interfaces.task=INFO,info,error,warn,stdout</span><br><span class="line">log4j.additivity.com.inspur.interfaces.task=false</span><br><span class="line"></span><br><span class="line">log4j.appender.info=org.apache.log4j.DailyRollingFileAppender</span><br><span class="line">log4j.appender.info.Threshold=INFO</span><br><span class="line">#log4j.appender.info.Append=false</span><br><span class="line">log4j.appender.info.File=logs/info.log</span><br><span class="line">log4j.appender.info.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.info.DatePattern = &#x27;.&#x27;yyyy-MM-dd</span><br><span class="line">log4j.appender.info.layout.ConversionPattern= %d %p [%c] - &lt;%m&gt;%n</span><br><span class="line">log4j.appender.info.filter.infoFilter = org.apache.log4j.varia.LevelRangeFilter</span><br><span class="line">log4j.appender.info.filter.infoFilter.LevelMin = INFO</span><br><span class="line">log4j.appender.info.filter.infoFilter.LevelMax = INFO</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">log4j.appender.warn=org.apache.log4j.DailyRollingFileAppender</span><br><span class="line">log4j.appender.warn.Threshold=WARN</span><br><span class="line">#log4j.appender.warn.Append=false</span><br><span class="line">log4j.appender.warn.File=logs/result.log</span><br><span class="line">log4j.appender.warn.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.warn.DatePattern = &#x27;.&#x27;yyyy-MM-dd</span><br><span class="line">log4j.appender.warn.layout.ConversionPattern= %d %p [%c] - &lt;%m&gt;%n</span><br><span class="line">log4j.appender.warn.filter.infoFilter = org.apache.log4j.varia.LevelRangeFilter</span><br><span class="line">log4j.appender.warn.filter.infoFilter.LevelMin = WARN</span><br><span class="line">log4j.appender.warn.filter.infoFilter.LevelMax = WARN</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">log4j.appender.error=org.apache.log4j.DailyRollingFileAppender</span><br><span class="line">log4j.appender.error.Threshold=ERROR</span><br><span class="line">#log4j.appender.error.Append=false</span><br><span class="line">log4j.appender.error.File=logs/error.log</span><br><span class="line">log4j.appender.error.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.error.DatePattern = &#x27;.&#x27;yyyy-MM-dd</span><br><span class="line">log4j.appender.error.layout.ConversionPattern= %d %p [%c] - &lt;%m&gt;%n</span><br></pre></td></tr></table></figure><h2 id="logback"><a href="#logback" class="headerlink" title="logback"></a>logback</h2><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://blog.csdn.net/zbajie001/article/details/79596109">logback和log4j比较，前者是后者改良，logback配置详解</a></p><p><a href="http://www.51gjie.com/javaweb/1107.html">logback</a></p><h3 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">一般springboot自带依赖</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.7</span><span class="number">.21</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;logback-core&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.1</span><span class="number">.7</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.1</span><span class="number">.7</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h3 id="配置文件-1"><a href="#配置文件-1" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;!-- scan属性未<span class="literal">true</span>时，如果配置文档发生改变将会进行重新加载 --&gt;</span><br><span class="line">&lt;!-- scanPeriod属性设置监测配置文件修改的时间间隔，默认单位为毫秒，在scan为<span class="literal">true</span>时才生效 --&gt;</span><br><span class="line">&lt;!-- debug属性如果为<span class="literal">true</span>时，会打印出logback内部的日志信息 --&gt;</span><br><span class="line">&lt;configuration scan=<span class="string">&quot;true&quot;</span> scanPeriod=<span class="string">&quot;60 seconds&quot;</span> debug=<span class="string">&quot;false&quot;</span>&gt;</span><br><span class="line">    &lt;string name=<span class="string">&quot;123&quot;</span>&gt;你好&lt;/string&gt;</span><br><span class="line">    &lt;!-- 定义参数常量 --&gt;</span><br><span class="line">    &lt;!-- 日志级别：TRACE&lt;DEBUG&lt;INFO&lt;WARN&lt;ERROR，其中常用的是DEBUG、INFO和ERROR --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;log.level&quot;</span> value=<span class="string">&quot;debug&quot;</span> /&gt;</span><br><span class="line">    &lt;!-- 文件保留时间 --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;log.maxHistory&quot;</span> value=<span class="string">&quot;30&quot;</span> /&gt;</span><br><span class="line">    &lt;!-- 日志存储路径 --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;log.filePath&quot;</span> value=<span class="string">&quot;logs/logback&quot;</span> /&gt;</span><br><span class="line">    &lt;!-- 日志的显式格式 --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;log.pattern&quot;</span></span><br><span class="line">              value=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger[%file : %line]-%msg%n&quot;</span>&gt;&lt;/property&gt;</span><br><span class="line">    &lt;!--    %d [%thread] %-5level %logger&#123;<span class="number">36</span>&#125; [%file : %line] - %msg%n--&gt;</span><br><span class="line">    &lt;!-- 定义参数常量 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 用于说明输出介质，此处说明控制台输出 --&gt;</span><br><span class="line">    &lt;appender name=<span class="string">&quot;consoleAppender&quot;</span> class=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span><br><span class="line">        &lt;!-- 类似于layout，除了将时间转化为数组，还会将转换后的数组输出到相应的文件中 --&gt;</span><br><span class="line">        &lt;encoder&gt;</span><br><span class="line">            &lt;!-- 定义日志的输出格式 --&gt;</span><br><span class="line">            &lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">        &lt;target&gt;system.out&lt;/target&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!-- DEBUG，表示文件随着时间的推移按时间生成日志文件 --&gt;</span><br><span class="line">    &lt;appender name=<span class="string">&quot;debugAppender&quot;</span> class=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br><span class="line">        &lt;!-- 文件路径 --&gt;</span><br><span class="line">        &lt;file&gt;$&#123;log.filePath&#125;/debug.log&lt;/file&gt;</span><br><span class="line">        &lt;!--        &lt;append&gt;<span class="literal">false</span>&lt;/append&gt;--&gt;</span><br><span class="line">        &lt;!-- 滚动策略 --&gt;</span><br><span class="line">        &lt;rollingPolicy class=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 设置文件名称 --&gt;</span><br><span class="line">            &lt;fileNamePattern&gt;</span><br><span class="line">                $&#123;log.filePath&#125;/zdebug.%d.log</span><br><span class="line">            &lt;/fileNamePattern&gt;</span><br><span class="line">            &lt;!-- 设置最大保存周期 --&gt;</span><br><span class="line">            &lt;MaxHistory&gt;$&#123;log.maxHistory&#125;&lt;/MaxHistory&gt;</span><br><span class="line">        &lt;/rollingPolicy&gt;</span><br><span class="line">        &lt;encoder&gt;</span><br><span class="line">            &lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">        &lt;!-- 过滤器，过滤掉不是指定日志水平的日志 --&gt;</span><br><span class="line">        &lt;filter class=<span class="string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 设置日志级别 --&gt;</span><br><span class="line">            &lt;level&gt;DEBUG&lt;/level&gt;</span><br><span class="line">            &lt;!-- 如果跟该日志水平相匹配，则接受 --&gt;</span><br><span class="line">            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">            &lt;!-- 如果跟该日志水平不匹配，则过滤掉 --&gt;</span><br><span class="line">            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">        &lt;/filter&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;appender name=<span class="string">&quot;file&quot;</span> class=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br><span class="line">        &lt;!--定义日志输出的路径--&gt;</span><br><span class="line">        &lt;!--这里的scheduler.manager.server.home 没有在上面的配置中设定，所以会使用java启动时配置的值--&gt;</span><br><span class="line">        &lt;!--比如通过 java -Dscheduler.manager.server.home=/path/to XXXX 配置该属性--&gt;</span><br><span class="line">        &lt;file&gt;$&#123;log.filePath&#125;/file.log&lt;/file&gt;</span><br><span class="line">        &lt;!--        &lt;append&gt;<span class="literal">false</span>&lt;/append&gt;--&gt;</span><br><span class="line">        &lt;!--定义日志滚动的策略--&gt;</span><br><span class="line">        &lt;rollingPolicy class=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br><span class="line">            &lt;!--定义文件滚动时的文件名的格式--&gt;</span><br><span class="line">            &lt;fileNamePattern&gt;$&#123;log.filePath&#125;/zfile.%d%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">            &lt;!--<span class="number">60</span>天的时间周期，日志量最大20GB--&gt;</span><br><span class="line">            &lt;maxHistory&gt;<span class="number">60</span>&lt;/maxHistory&gt;</span><br><span class="line">            &lt;!-- 该属性在 <span class="number">1.1</span><span class="number">.6</span>版本后 才开始支持--&gt;</span><br><span class="line">            &lt;totalSizeCap&gt;20GB&lt;/totalSizeCap&gt;</span><br><span class="line">        &lt;/rollingPolicy&gt;</span><br><span class="line">        &lt;triggeringPolicy class=<span class="string">&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;</span>&gt;</span><br><span class="line">            &lt;!--每个日志文件最大100MB--&gt;</span><br><span class="line">            &lt;maxFileSize&gt;1KB&lt;/maxFileSize&gt;</span><br><span class="line">        &lt;/triggeringPolicy&gt;</span><br><span class="line">        &lt;!--定义输出格式--&gt;</span><br><span class="line">        &lt;encoder&gt;</span><br><span class="line">            &lt;pattern&gt;%d [%thread] %-5level %logger [%file : %line] - %msg%n&lt;/pattern&gt;</span><br><span class="line">        &lt;/encoder&gt;</span><br><span class="line">    &lt;/appender&gt;</span><br><span class="line">    &lt;!-- 用于存放日志对象，同时指定关联的<span class="keyword">package</span>位置 --&gt;</span><br><span class="line">    &lt;!-- name指定关联的<span class="keyword">package</span> --&gt;</span><br><span class="line">    &lt;!-- level表明指记录哪个日志级别以上的日志 --&gt;</span><br><span class="line">    &lt;!-- appender-ref指定logger向哪个文件输出日志信息 --&gt;</span><br><span class="line">    &lt;!-- additivity为<span class="literal">true</span>时，logger会把根logger的日志输出地址加入进来，但logger水平不依赖于根logger --&gt;</span><br><span class="line">    &lt;logger name=<span class="string">&quot;com.inspur.interfaces.task&quot;</span> level=<span class="string">&quot;$&#123;log.level&#125;&quot;</span> additivity=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line">        &lt;appender-ref ref=<span class="string">&quot;debugAppender&quot;</span> /&gt;</span><br><span class="line">    &lt;/logger&gt;</span><br><span class="line">    &lt;!-- 特殊的logger，根logger --&gt;</span><br><span class="line">    &lt;root lever=<span class="string">&quot;info&quot;</span>&gt;</span><br><span class="line">        &lt;!-- 指定默认的日志输出 --&gt;</span><br><span class="line">        &lt;appender-ref ref=<span class="string">&quot;consoleAppender&quot;</span> /&gt;</span><br><span class="line">        &lt;appender-ref ref=<span class="string">&quot;file&quot;</span> /&gt;</span><br><span class="line">    &lt;/root&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>右键菜单</title>
      <link href="/hexo/2024/07/03/you-jian-cai-dan/"/>
      <url>/hexo/2024/07/03/you-jian-cai-dan/</url>
      
        <content type="html"><![CDATA[<h2 id="右键菜单"><a href="#右键菜单" class="headerlink" title="右键菜单"></a>右键菜单</h2><p>[TOC]</p><h3 id="创建右键cmd"><a href="#创建右键cmd" class="headerlink" title="创建右键cmd"></a>创建右键cmd</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">创建一个cmd.reg 输入以下内容</span><br><span class="line"></span><br><span class="line">Windows Registry Editor Version <span class="number">5.00</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\background\shell\cmd_here]</span><br><span class="line"></span><br><span class="line">@=<span class="string">&quot;打开命令行&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\background\shell\cmd_here\command]</span><br><span class="line"></span><br><span class="line">@=<span class="string">&quot;\&quot;C:\\Windows\\System32\\cmd.exe\&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\cmdPrompt]</span><br><span class="line"></span><br><span class="line">@=<span class="string">&quot;打开命令行&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\cmdPrompt\command]</span><br><span class="line"></span><br><span class="line">@=<span class="string">&quot;\&quot;C:\\Windows\\System32\\cmd.exe\&quot; \&quot;cd %1\&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\shell\cmd_here]</span><br><span class="line"></span><br><span class="line">@=<span class="string">&quot;打开命令行&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\shell\cmd_here\command]</span><br><span class="line"></span><br><span class="line">@=<span class="string">&quot;\&quot;C:\\Windows\\System32\\cmd.exe\&quot;&quot;</span></span><br></pre></td></tr></table></figure><h4 id="设置图表-icon"><a href="#设置图表-icon" class="headerlink" title="设置图表 icon"></a>设置图表 icon</h4><p>在 cmd_here 下创建 字符串值    icon   值:</p><p>可以设置为   C:\Windows\System32\cmd.exe</p><p>也可以直接设置一个图片 test.icon</p><h3 id="设置-winr快捷命令"><a href="#设置-winr快捷命令" class="headerlink" title="设置 winr快捷命令"></a>设置 winr快捷命令</h3><h4 id="设置vbs脚本"><a href="#设置vbs脚本" class="headerlink" title="设置vbs脚本"></a>设置vbs脚本</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">新建一个 inkpath.vbs脚本</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27; 脚本说明 https://blog.csdn.net/milaoshu1020/article/details/80711574</span></span><br><span class="line"><span class="string">&#x27;</span> 脚本版本 v1<span class="number">.1</span></span><br><span class="line"><span class="string">&#x27; installpath是本脚本要安装到的路径.</span></span><br><span class="line"><span class="string">&#x27;</span> d:\L是脚本所在的路径,也是保存快捷方式的目录.</span><br><span class="line"><span class="string">&#x27; [更新历史]</span></span><br><span class="line"><span class="string">&#x27;</span> <span class="number">2019.06</span><span class="number">.03</span> v1<span class="number">.2</span> 增加了安装时自动提权的代码.</span><br><span class="line"><span class="string">&#x27; 2018.12.29 v1.1 新增加了对系统变量PATHEXT的注册,效果是自定义命令可以在命令行中使用(不用加扩展名&quot;.LNK&quot;).</span></span><br><span class="line"><span class="string">&#x27;</span> <span class="number">2018.06</span><span class="number">.18</span> v1<span class="number">.0</span> 初始版本,实现了基本功能.</span><br><span class="line">installpath = <span class="string">&quot;E:\worksoft\inkpath\Win+R快捷命令.vbs&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="type">set</span> <span class="variable">fso</span> <span class="operator">=</span> createobject(<span class="string">&quot;scripting.filesystemobject&quot;</span>)</span><br><span class="line"><span class="type">set</span> <span class="variable">shell</span> <span class="operator">=</span> createobject(<span class="string">&quot;wscript.shell&quot;</span>)</span><br><span class="line">installdir = fso.getparentfoldername(installpath)</span><br><span class="line">installbase = fso.getbasename(installpath)</span><br><span class="line"></span><br><span class="line">If wscript.arguments.count = <span class="number">0</span> Then</span><br><span class="line"><span class="type">Set</span> <span class="variable">sh</span> <span class="operator">=</span> createobject(<span class="string">&quot;shell.application&quot;</span>)</span><br><span class="line">sh.shellexecute wscript.fullname,<span class="string">&quot;&quot;&quot;&quot; &amp; wscript.scriptfullname &amp; &quot;&quot;&quot;</span> -install<span class="string">&quot;,,&quot;</span>runas<span class="string">&quot;</span></span><br><span class="line"><span class="string">Else</span></span><br><span class="line"><span class="string">If wscript.arguments(0) = &quot;</span>-install<span class="string">&quot; Then</span></span><br><span class="line"><span class="string">Select Case msgbox(&quot;</span>是否安装<span class="string">&#x27;&quot; &amp; installbase &amp; &quot;&#x27;</span>脚本?<span class="string">&quot;,vbokcancel)</span></span><br><span class="line"><span class="string">Case vbcancel</span></span><br><span class="line"><span class="string">wscript.quit</span></span><br><span class="line"><span class="string">End select</span></span><br><span class="line"><span class="string">copyscriptfile</span></span><br><span class="line"><span class="string">addinstdirtosystempath</span></span><br><span class="line"><span class="string">createinstdirlnk</span></span><br><span class="line"><span class="string">createsendtolnk</span></span><br><span class="line"><span class="string">msgbox &quot;</span><span class="string">&#x27;&quot; &amp; installpath &amp; &quot;&#x27;</span>安装完成,你现在可以:<span class="string">&quot; &amp; vbcrlf &amp; _</span></span><br><span class="line"><span class="string">&quot;</span>使用右键菜单中的<span class="string">&#x27;发送到&#x27;</span>创建自定义命令.<span class="string">&quot; &amp; vbcrlf &amp; _</span></span><br><span class="line"><span class="string">&quot;</span>Win+R,输入<span class="string">&#x27;&quot; &amp; fso.getfolder(installdir).name &amp; &quot;&#x27;</span>以打开命令(快捷方式)列表目录.<span class="string">&quot; &amp; vbcrlf &amp; _</span></span><br><span class="line"><span class="string">&quot;</span>Win+R,输入<span class="string">&#x27;命令(快捷方式名称)&#x27;</span>以打开相应的程序或者目录.<span class="string">&quot;</span></span><br><span class="line"><span class="string">Else</span></span><br><span class="line"><span class="string">prompttoaddlnk</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Sub PromptToAddLnk()</span></span><br><span class="line"><span class="string">For i = 0 To wscript.arguments.count - 1</span></span><br><span class="line"><span class="string">targetpath = wscript.arguments(i)</span></span><br><span class="line"><span class="string">lnkname = fso.getbasename(targetpath)</span></span><br><span class="line"><span class="string">do</span></span><br><span class="line"><span class="string">lnkname = inputbox(&quot;</span>请输入<span class="string">&#x27;&quot; &amp; fso.getfilename(targetpath) &amp; &quot;&#x27;</span>的快捷方式名称(用于运行命令):<span class="string">&quot;,,lnkname)</span></span><br><span class="line"><span class="string">lnkpath = fso.buildpath(installdir,lnkname &amp; &quot;</span>.lnk<span class="string">&quot;)</span></span><br><span class="line"><span class="string">If Not fso.fileexists(lnkpath) Or lnkname = &quot;</span><span class="string">&quot; Then</span></span><br><span class="line"><span class="string">Exit Do</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string">Select Case msgbox(&quot;</span><span class="string">&#x27;&quot; &amp; lnkpath &amp; &quot;&#x27;</span>文件已存在,是否覆盖?<span class="string">&quot;,vbexclamation Or vbyesnocancel)</span></span><br><span class="line"><span class="string">Case vbyes</span></span><br><span class="line"><span class="string">Exit Do</span></span><br><span class="line"><span class="string">Case vbcancel</span></span><br><span class="line"><span class="string">lnkname = &quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">Exit Do</span></span><br><span class="line"><span class="string">End Select</span></span><br><span class="line"><span class="string">Loop While True</span></span><br><span class="line"><span class="string">If lnkname &lt;&gt; &quot;</span><span class="string">&quot; Then</span></span><br><span class="line"><span class="string">Set shortcut = shell.createshortcut(lnkpath)</span></span><br><span class="line"><span class="string">shortcut.targetpath = targetpath</span></span><br><span class="line"><span class="string">shortcut.save</span></span><br><span class="line"><span class="string">msgbox &quot;</span><span class="string">&#x27;&quot; &amp; lnkpath &amp; &quot;&#x27;</span>创建成功!<span class="string">&quot;</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string">Next</span></span><br><span class="line"><span class="string">End Sub</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Sub CopyScriptFile()</span></span><br><span class="line"><span class="string">If LCase(installpath) = LCase(wscript.scriptfullname) Then</span></span><br><span class="line"><span class="string">Exit Sub</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">If Not fso.folderexists(installdir) Then</span></span><br><span class="line"><span class="string">fso.createfolder(installdir)</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">fso.copyfile wscript.scriptfullname,installpath,true</span></span><br><span class="line"><span class="string">End Sub</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Sub AddInstDirToSystemPath()</span></span><br><span class="line"><span class="string">pathname = installdir &amp; &quot;</span>;<span class="string">&quot;</span></span><br><span class="line"><span class="string">Set sysenv = shell.environment(&quot;</span>System<span class="string">&quot;)</span></span><br><span class="line"><span class="string">If InStr(LCase(sysenv(&quot;</span>PATH<span class="string">&quot;)),LCase(pathname)) = 0 Then</span></span><br><span class="line"><span class="string">sysenv(&quot;</span>PATH<span class="string">&quot;) = pathname &amp; sysenv(&quot;</span>PATH<span class="string">&quot;)</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string">extname = &quot;</span>;.LNK<span class="string">&quot;</span></span><br><span class="line"><span class="string">If InStr(LCase(sysenv(&quot;</span>PATHEXT<span class="string">&quot;)),LCase(extname)) = 0 Then</span></span><br><span class="line"><span class="string">sysenv(&quot;</span>PATHEXT<span class="string">&quot;) = sysenv(&quot;</span>PATHEXT<span class="string">&quot;) &amp; extname</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string">End Sub</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Sub CreateSendToLnk()</span></span><br><span class="line"><span class="string">sendtodir = shell.specialfolders(&quot;</span>SendTo<span class="string">&quot;)</span></span><br><span class="line"><span class="string">lnkpath = fso.buildpath(sendtodir,installbase &amp; &quot;</span>.lnk<span class="string">&quot;)</span></span><br><span class="line"><span class="string">Set shortcut = shell.createshortcut(lnkpath)</span></span><br><span class="line"><span class="string">shortcut.targetpath = installpath</span></span><br><span class="line"><span class="string">shortcut.save</span></span><br><span class="line"><span class="string">End Sub</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Sub CreateInstDirLnk()</span></span><br><span class="line"><span class="string">lnkpath = fso.buildpath(installdir,fso.getfolder(installdir).name &amp; &quot;</span>.lnk<span class="string">&quot;)</span></span><br><span class="line"><span class="string">If Not fso.fileexists(lnkpath) Then</span></span><br><span class="line"><span class="string">Set shortcut = shell.createshortcut(lnkpath)</span></span><br><span class="line"><span class="string">shortcut.targetpath = installdir</span></span><br><span class="line"><span class="string">shortcut.save</span></span><br><span class="line"><span class="string">End If</span></span><br><span class="line"><span class="string">End Sub</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><h4 id="使用ScriptCryptor-转换为-winr-exe"><a href="#使用ScriptCryptor-转换为-winr-exe" class="headerlink" title="使用ScriptCryptor 转换为 winr.exe"></a>使用ScriptCryptor 转换为 winr.exe</h4><h4 id="设置右键菜单"><a href="#设置右键菜单" class="headerlink" title="设置右键菜单"></a>设置右键菜单</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在注册表 folder 下创建右键  command 为 E:\worksoft\inkpath\winr.exe <span class="string">&quot;%V&quot;</span></span><br></pre></td></tr></table></figure><h2 id="注册表说明"><a href="#注册表说明" class="headerlink" title="注册表说明"></a>注册表说明</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell  下创建  对文件夹生效</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">计算机\HKEY_CLASSES_ROOT\*\shell 下  对 文件(.txt   .docx)生效()</span><br></pre></td></tr></table></figure><h3 id="folder-和-directory-区别"><a href="#folder-和-directory-区别" class="headerlink" title="folder 和 directory 区别"></a>folder 和 directory 区别</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">在 Windows 系统中，我们经常会见到「目录」和「文件夹」两个名词，但很多人会这两个概念混用，甚至搞不清楚它们的区别，包括写这篇博文的我，之前也是一样。同样表示「文件夹」的概念，为什么会有两个说法？事实上，这两个词不仅仅是在中文中，在英文原文中，也是有两个不同的词汇，Directory 和 Folder。通常，Directory 被翻译成「目录」，而 Folder 被翻译成「文件夹」。但实际的情况是，很多情况下，这两个的翻译都比较混乱，Directory 也经常被翻译为「文件夹」。那么微软使用 Directory 和 Folder 这两个名词到底什么不同的意义和差异呢？这个问题我多年也没搞清楚，直到最近又在网上搜索资料，并自己进行一些测试后，才发现他们的细微差别。</span><br><span class="line"></span><br><span class="line">首先，作为一个 Windows 开发人员，注册表、文件关联等都应该是了解的。那么大家应该都知道，在 Windows 的注册表编辑器中的 HKEY_CLASSES_ROOT 节点下面，有 Directory 和 Folder 两个子键，类似其他的 ProgId 子键，支持在其 shell 子键添加自定义的动作和命令。有一天我突发奇想，如果我分别在这两个位置添加一个动作项，系统该如何显示它们？于是我分别在不同的位置单独添加注册表项，然后观察右键菜单，发现了其中的秘密：</span><br><span class="line"></span><br><span class="line">仅在 HKEY_CLASSES_ROOTDirectoryshell 下面随便添加一个节点，如 action，我分别在「计算机」、「回收站」、「计算机」中的任意驱动器、普通文件夹上点击右键，只有普通的文件夹右键菜单中出现了 action 这一菜单项。</span><br><span class="line"></span><br><span class="line">仅在 HKEY_CLASSES_ROOTFoldershell 下面随便添加一个节点，如 action，我分别在「计算机」、「回收站」、「计算机」中的任意驱动器、普通文件夹上点击右键，所有这些项目的右键菜单中均出现了 action 这一菜单项。</span><br><span class="line"></span><br><span class="line">仅在 HKEY_CLASSES_ROOTDriveshell 下面随便添加一个节点，如 action，我分别在「计算机」、「回收站」、「计算机」中的任意驱动器、普通文件夹上点击右键，只有驱动器盘符右键菜单中出现了 action 这一菜单项。</span><br><span class="line"></span><br><span class="line">如此看来，Folder 的范围其实是很大的，它包括了系统中所有可以双击打开并查看其内容的「文件夹」项目，包括「计算机」、「回收站」、「控制面板」等这些虚拟文件夹，以及「计算机」中的所有磁盘驱动器，以及其中的任何文件夹 (Directory)。</span><br><span class="line"></span><br><span class="line">而 Directory 的概念则小的很多，它必须是存在于物理磁盘上的一个「文件夹」项目，而「计算机」中的所有磁盘驱动器，如「本地磁盘 (C:)」则不认为是 Directory。</span><br><span class="line"></span><br><span class="line">总结：如果是开发外壳扩展 dll，最好根据需要写入到正确的子键下面，不要在 Directory 和 Folder 等子键下乱写一通。虽然有的外壳扩展不支持虚拟文件夹，写在 Directory 下系统也并不会加载，但还是希望各位开发人员能够正确遵守规范。</span><br></pre></td></tr></table></figure><h3 id="完整示例"><a href="#完整示例" class="headerlink" title="完整示例"></a>完整示例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\添加到快捷方式]</span><br><span class="line"><span class="string">&quot;icon&quot;</span>=<span class="string">&quot;E:\\back\\Pictures\\icon\\damotouicon (6).ico&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\添加到快捷方式\command]</span><br><span class="line">@=<span class="string">&quot;E:\\worksoft\\inkpath\\winr.exe \&quot;%V\&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\open_cmd]</span><br><span class="line"><span class="string">&quot;icon&quot;</span>=<span class="string">&quot;C:\\Windows\\System32\\cmd.exe&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\open_cmd\command]</span><br><span class="line">@=<span class="string">&quot;\&quot;C:\\Windows\\System32\\cmd.exe\&quot; \&quot;cd %1\&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\background\shell\open_cmd]</span><br><span class="line"><span class="string">&quot;icon&quot;</span>=<span class="string">&quot;C:\\Windows\\System32\\cmd.exe&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\background\shell\open_cmd\command]</span><br><span class="line">@=<span class="string">&quot;\&quot;C:\\Windows\\System32\\cmd.exe\&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\添加到快捷命令]</span><br><span class="line"><span class="string">&quot;icon&quot;</span>=<span class="string">&quot;E:\\back\\Pictures\\icon\\damotouicon (6).ico&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\添加到快捷命令\command]</span><br><span class="line">@=<span class="string">&quot;E:\\worksoft\\inkpath\\winr.exe \&quot;%V\&quot;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello</title>
      <link href="/hexo/2024/07/03/hello-world/"/>
      <url>/hexo/2024/07/03/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo博客搭建</title>
      <link href="/hexo/2024/07/03/test/"/>
      <url>/hexo/2024/07/03/test/</url>
      
        <content type="html"><![CDATA[<h2 id="1-hexo-安装"><a href="#1-hexo-安装" class="headerlink" title="1.hexo 安装"></a>1.hexo 安装</h2><p>安装hexo 你需要掌握简单的npm基础,下面默认你已经掌握npm的基础应用,直接开始安装</p><blockquote><p>安装hexo客户端</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-cli -g  #</span><br></pre></td></tr></table></figure><blockquote><p>在空白文件夹下穿件hexo项目</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><h3 id="本次用到hexo命令"><a href="#本次用到hexo命令" class="headerlink" title="本次用到hexo命令"></a>本次用到hexo命令</h3><blockquote><p>启动服务[指定端口默认端口4000]</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s  [-p 5000]</span><br></pre></td></tr></table></figure><blockquote><p>清空静态文件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><blockquote><p>生成静态文件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><blockquote><p>部署博客到服务器</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br><span class="line">一般 hexo g 和  hexo  d  组合使用   hexo g -d</span><br></pre></td></tr></table></figure><h2 id="2-主题选择"><a href="#2-主题选择" class="headerlink" title="2.主题选择"></a>2.主题选择</h2><p>​选择主题时浪费了很多时间,   主要研究了<a href="https://butterfly.js.org/">butterfly</a>主题 越搞越觉得 浪费时间,我需要的是一个简单配置就能使用的博客,而不想在页面调整上浪费很多时间. 或许以后熟练使用hexo了 可以考虑研究下.</p><p>​     最后选定了 <a href="https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/">matery</a> 主题 不过安装时 会有些问题;</p><blockquote><p>主题安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/blinkfox/hexo-theme-matery themes/matery</span><br></pre></td></tr></table></figure><p>我安装上述方式安装,最后部署githubpage时 部署失败.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/blinkfox/hexo-theme-matery.git</span><br></pre></td></tr></table></figure><p>最后采用了在github 下载压缩包 然后 复制解压到 themes 文件夹下的方式安装主题</p><p><img src="/hexo/hexo/2024/07/03/test/test/image-20240703180115686.png" alt="image-20240703180115686"></p></blockquote><blockquote><p>主题设置按照<a href="https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/">matery</a> 教程中设置, 实现了文章全文搜索,和文章字数统计. </p><p>评论设置一直有问题,未能解决,</p></blockquote><h2 id="3-github-部署"><a href="#3-github-部署" class="headerlink" title="3.github 部署"></a>3.github 部署</h2><h3 id="githuppage准备"><a href="#githuppage准备" class="headerlink" title="githuppage准备"></a>githuppage准备</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注册githup 账号  创建github仓库 仓库名称必须设置为  你的名字.github.io (liudongsir.github.io)</span><br><span class="line">如果是单纯设置博客,仓库名可以随便设置; 例如我一开始使用的hexo仓库部署</span><br><span class="line">但是这么做会影响下面图片的显示.</span><br></pre></td></tr></table></figure><p><img src="/hexo/hexo/2024/07/03/test/test/image-20240703181034779.png" alt="image-20240703181034779"></p><p> <img src="/hexo/hexo/2024/07/03/test/test/image-20240703181203043.png" alt="image-20240703181203043"></p><h3 id="项目配置"><a href="#项目配置" class="headerlink" title="项目配置"></a>项目配置</h3><p>如上图 设置hexo 下  _config.yml文件中的同步配置.</p><p>配置成功后 就可以访问博客了.</p><h2 id="4-图片部署"><a href="#4-图片部署" class="headerlink" title="4.图片部署"></a>4.图片部署</h2><p>图片部署有多种方式, 1 通过图床上传图片到oss服务器(常用),2同步图片到仓库直接访问.</p><p>我采用的方式2</p><p>方式2的参考链接</p><p><a href="https://zhuanlan.zhihu.com/p/405551874">[Hexo博客搭建]第4章 Hexo图片显示问题</a></p><p><a href="https://blog.csdn.net/cnds123321/article/details/109085776">解决Hexo关于图片的问题</a></p><p><a href="https://blog.csdn.net/m0_43401436/article/details/107191688">hexo博客中插入图片失败——解决思路及个人最终解决办法</a></p><p>一些其他解决思路</p><p><a href="https://yinyoupoet.github.io/2019/09/03/hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/">typora + hexo博客中插入图片</a></p><p><a href="https://rainylog.com/post/hexo-post-image-manage/">Hexo 文章图片管理</a></p><blockquote><p>修改配置文件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_config.yml` 文件中的`post_asset_folder` 选项设为 `true</span><br><span class="line">目的 可以生成 md文件的同名文件夹</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">编写博客(md)使用 typora 在偏好设置中如图设置:</span><br></pre></td></tr></table></figure><p><img src="/hexo/hexo/2024/07/03/test/test/image-20240703180647089.png" alt="image-20240703180647089"></p><blockquote><p>安装图片处理插件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br><span class="line">在hexo g  时可以复制图片到生成的静态文件(html) 同级目录中,并且图片路径也对应处理.</span><br></pre></td></tr></table></figure><p><img src="/hexo/hexo/2024/07/03/test/test/image-20240703180835748.png" alt="image-20240703180835748"></p><h2 id="5-参考链接"><a href="#5-参考链接" class="headerlink" title="5.参考链接"></a>5.参考链接</h2><p><a href="https://blog.csdn.net/victoryxa/article/details/103733655">hexo+github搭建博客(超级详细版，精细入微)</a></p><p><a href="https://blog.csdn.net/qq_58608526/article/details/124652412">Hexo+Github博客搭建教程</a></p><h2 id="6-后记"><a href="#6-后记" class="headerlink" title="6.后记"></a>6.后记</h2><p><img src="/hexo/hexo/2024/07/03/test/test/back-title.jpg" alt="back-title"></p>]]></content>
      
      
      <categories>
          
          <category> hexo博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo博客 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
